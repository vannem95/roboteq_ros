#!/usr/bin/env python
import rospy
from geometry_msgs.msg import PoseStamped, Twist, TwistStamped



#########################################################################################
#########################################################################################
############################### Callback function #######################################
#########################################################################################
#########################################################################################

#=========================================================================================== 
# Takes the pose from aruco_poses, rotates the quat(yaw by -pi/2) to match the rviz quat,  |
# checks if the new position is less than base radius away (if not, uses the last pose) and|
# publisher the pose to cam_pose_rerouter                                                  |
#===========================================================================================

def callback(data):
    global pub

    msg = Twist()
    msg.linear.x = data.twist.linear.x
    pub.publish(msg)

#########################################################################################



#########################################################################################
#########################################################################################
############################### Initialize function #####################################
#########################################################################################
#########################################################################################

def initialize():
    global pub
    rospy.init_node('test', anonymous=True)
    rospy.Subscriber('cmdvel', TwistStamped, callback)
    pub = rospy.Publisher('cmd_vel', Twist, queue_size = 50)
    rospy.spin()

#########################################################################################

if __name__ == '__main__':
    initialize()
